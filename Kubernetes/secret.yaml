# Kubernetes Secret manifest (example)
# Replace the placeholder values or create the secret with kubectl create secret command.
apiVersion: v1
kind: Secret
metadata:
  name: nate-agent-secrets
  namespace: nate-agent
type: Opaque
stringData:
  # DATABASE_URL should be the full connection string your app expects, e.g.:
  # Host=postgres.nate-agent.svc.cluster.local;Port=5432;Database=mydb;Username=myuser;Password=mypassword
  # Values below are substituted by the CI pipeline via envsubst.
  # Make sure your CI sets these environment variables from secrets
  DATABASE_URL: Host=sql-service.nate-agent.svc.cluster.local;Port=5432;Database=agentdb;Username=postgres;Password=postgres";
  GOOGLE_API: "${GOOGLE_API}"
  CUSTOM_SEARCH_ENGINE: "${CUSTOM_SEARCH_ENGINE}"
  PIXABAY_API_KEY: "${PIXABAY_API_KEY}"
  KEYCLOAK_AUTHORITY: "${KEYCLOAK_AUTHORITY}"
  KEYCLOAK_AUDIENCE: "${KEYCLOAK_AUDIENCE}"
  # Facebook MCP Service credentials
  FACEBOOK_PAGE_ID: "${FACEBOOK_PAGE_ID}"
  FACEBOOK_PAGE_ACCESS_TOKEN: "${FACEBOOK_PAGE_ACCESS_TOKEN}"
  # MCP Service URL for API to connect to
  MCP_SERVICE_URL: "http://mcp-service.nate-agent.svc.cluster.local:8000"

# Alternatively, create this secret from the command line (safer to use CI secrets):
# kubectl create secret generic nate-agent-secrets \
#   --namespace=nate-agent \
#   --from-literal=DATABASE_URL='Host=postgres.nate-agent.svc.cluster.local;Port=5432;Database=mydb;Username=myuser;Password=mypassword' \
#   --from-literal=GOOGLE_API='<your-google-api-key>' \
#   --from-literal=CUSTOM_SEARCH_ENGINE='<your-cse-id>'
